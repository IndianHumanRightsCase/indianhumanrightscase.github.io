!function(){"use strict";const e="https://indianhumanrightscase.github.io/";function t(){const e=document.getElementById("email-address"),t=document.getElementById("copy-email-btn");if(!e||!t)return;const n=e.dataset.email||e.innerText;navigator.clipboard.writeText(n).then(()=>{t.innerText="Copied!",t.style.backgroundColor="#28a745",e.classList.add("highlight-copy"),setTimeout(()=>{t.innerText="Copy Email",t.style.backgroundColor="#8b0000",e.classList.remove("highlight-copy")},2e3)}).catch(n=>{console.error("Failed to copy email: ",n),t.innerText="Failed!",t.style.backgroundColor="#dc3545",setTimeout(()=>{t.innerText="Copy Email",t.style.backgroundColor="#8b0000"},2e3)})}function n(){const t=encodeURIComponent(e),n=encodeURIComponent("An Urgent Plea for Justice: Persecution of a Muslim Family in India");window.open(`https://twitter.com/intent/tweet?url=${t}&text=${n}`,"_blank","noopener,noreferrer")}function o(){const t=encodeURIComponent(e);window.open(`https://www.facebook.com/sharer/sharer.php?u=${t}`,"_blank","noopener,noreferrer")}function i(){document.querySelectorAll(".js-share-button").forEach(t=>{t.addEventListener("click",async n=>{const o=n.currentTarget,i={title:"An Urgent Plea for Justice: Persecution of a Muslim Family in India",text:document.querySelector('meta[name="description"]').content,url:e};if(navigator.share)try{await navigator.share(i)}catch(e){console.log("Web Share API dialog closed.",e)}else navigator.clipboard.writeText(e).then(()=>{o.innerText="Link Copied!",setTimeout(()=>{o.innerText="Share Story"},2e3)}).catch(e=>{console.error("Fallback copy failed",e),o.innerText="Copy Failed!",setTimeout(()=>{o.innerText="Share Story"},2e3)})})})}function c(){const e=document.getElementById("back-to-top-btn"),t=document.getElementById("go-to-bottom-btn");if(!e||!t)return;const n=()=>{const o=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight,c=document.documentElement.clientHeight;e.style.display=o>20?"block":"none",t.style.display=i-(o+c)<1?"none":"block"};window.addEventListener("scroll",n),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),t.addEventListener("click",()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),n()}function r(){const e=document.querySelector(".mobile-nav-toggle"),t=document.querySelector(".primary-navigation");e&&t&&e.addEventListener("click",()=>{const n="true"===t.getAttribute("data-visible");t.setAttribute("data-visible",!n),e.setAttribute("aria-expanded",!n)})}async function a(e){e.preventDefault();const t=e.target,n=new FormData(t),o=document.getElementById("form-status");try{const e=await fetch(t.action,{method:t.method,body:n,headers:{Accept:"application/json"}});if(e.ok)o.innerHTML="Thanks for your submission!",t.reset();else{const t=await e.json();o.innerHTML=Object.hasOwn(t,"errors")?t.errors.map(e=>e.message).join(", "):"Oops! There was a problem submitting your form"}}catch(e){o.innerHTML="Oops! There was a problem submitting your form"}}function l(){const e=window.location.pathname;document.querySelectorAll(".desktop-navigation a, .primary-navigation a").forEach(t=>{"index.html"===t.getAttribute("href")&&("/"===e||e.endsWith("/index.html"))?t.classList.add("active-link"):e.endsWith(t.getAttribute("href"))&&"index.html"!==t.getAttribute("href")&&t.classList.add("active-link")})}function s(){var e,s,d;document.querySelector(".share-btn.twitter")?.addEventListener("click",n),document.querySelector(".share-btn.facebook")?.addEventListener("click",o),document.querySelector(".share-btn.print")?.addEventListener("click",()=>window.print()),document.getElementById("copy-email-btn")?.addEventListener("click",t),i(),c(),r(),e=document.getElementById("contact-form"),e&&e.addEventListener("submit",a),l()}document.addEventListener("DOMContentLoaded",s)}();